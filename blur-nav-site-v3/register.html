<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>REGISTER — NAE*LOVO</title>
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* Переопределяем, чтобы страница могла скроллиться */
        .page {
            min-height: 100vh;
            height: auto;
            overflow: visible;
        }

        /* HERO сверху - minimal for register */
        .profile-hero {
            position: relative;
            min-height: 40vh; /* Reduced height for register page */
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 16px;
        }

        .profile-hero-inner {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .profile-hero .center-word {
            /* используем стили из style.css + они уже есть */
        }

        .profile-hero .center-label {
            position: static;
            transform: none;
            margin-top: 18px;
            font-size: 10px;
            letter-spacing: 0.28em;
            text-transform: uppercase;
            opacity: 0.7;
        }

        /* Блок авторизации / регистрации */

        .auth-section {
            padding: 40px 16px 120px; /* Reduced top padding */
            display: flex;
            justify-content: center;
        }

        .auth-card {
            max-width: 520px;
            width: 100%;
            background: rgba(5, 5, 5, 0.75);
            border: 1px solid rgba(245, 245, 245, 0.08);
            border-radius: 18px;
            padding: 28px 24px 26px;
            backdrop-filter: blur(14px);
        }

        .auth-heading {
            font-family: 'DrukCyr', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            font-size: 16px;
            letter-spacing: 0.22em;
            text-transform: uppercase;
            margin-bottom: 18px;
        }

        .auth-subtext {
            font-size: 12px;
            line-height: 1.6;
            opacity: 0.75;
            margin-bottom: 20px;
        }

        .auth-toggle {
            display: inline-flex;
            border-radius: 999px;
            border: 1px solid rgba(245, 245, 245, 0.14);
            padding: 2px;
            margin-bottom: 22px;
        }

        .auth-tab {
            border: none;
            background: transparent;
            color: #f5f5f5;
            font-size: 11px;
            letter-spacing: 0.18em;
            text-transform: uppercase;
            padding: 8px 16px;
            cursor: pointer;
            border-radius: 999px;
            opacity: 0.6;
            transition: background 0.2s ease, opacity 0.2s ease, transform 0.15s ease;
            font-family: 'DrukCyr', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        }

        .auth-tab.is-active {
            background: rgba(245, 245, 245, 0.08);
            opacity: 1;
            transform: translateY(-1px);
        }

        .auth-forms {
            margin-top: 6px;
        }

        .auth-form {
            display: none;
        }

        .auth-form--active {
            display: block;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 14px 16px;
        }

        .form-row {
            margin-bottom: 14px;
        }

        .form-label {
            font-size: 11px;
            letter-spacing: 0.16em;
            text-transform: uppercase;
            opacity: 0.7;
            margin-bottom: 4px;
        }

        .form-input {
            width: 100%;
            border: none;
            border-bottom: 1px solid rgba(245, 245, 245, 0.2);
            background: transparent;
            padding: 6px 0 8px;
            font-size: 13px;
            color: #f5f5f5;
            outline: none;
            transition: border-color 0.2s ease, background 0.2s ease;
        }

        .form-input::placeholder {
            color: rgba(245, 245, 245, 0.3);
        }

        .form-input:focus {
            border-bottom-color: rgba(255, 255, 255, 0.7);
            background: rgba(255, 255, 255, 0.02);
        }

        .form-row-inline {
            display: flex;
            gap: 16px;
        }

        .form-hint {
            font-size: 11px;
            opacity: 0.6;
            margin-top: 3px;
        }

        .form-submit {
            margin-top: 20px;
        }

        .btn-primary {
            border: none;
            background: #f5f5f5;
            color: #050505;
            font-size: 11px;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            padding: 10px 22px;
            border-radius: 999px;
            cursor: pointer;
            transition: transform 0.15s ease, box-shadow 0.15s ease, background 0.2s ease;
            font-family: 'DrukCyr', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 8px 22px rgba(0, 0, 0, 0.45);
        }

        .btn-primary:active {
            transform: translateY(0);
            box-shadow: none;
            background: #e2e2e2;
        }

        .auth-message {
            margin-top: 16px;
            font-size: 12px;
            line-height: 1.6;
            opacity: 0.9;
        }

        .auth-message--error {
            color: #ff5252;
        }

        .auth-message--success {
            color: #9af57a;
        }

        @media (max-width: 720px) {
            .profile-hero {
                min-height: 30vh;
            }

            .auth-card {
                padding: 22px 18px 22px;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body class="theme-savee">
<div class="page">
    <!-- HERO сверху -->
    <section class="profile-hero">
        <div class="profile-hero-inner">
            <div class="center-word" id="centerWord"></div>
            <div class="center-label" id="centerLabel">NAE*LOVO / REGISTER</div>
        </div>
    </section>

    <!-- Блок регистрации / логина -->
    <section class="auth-section">
        <div class="auth-card">
            <div class="auth-heading">JOIN US</div>
            <p class="auth-subtext">
                Зарегистрируйся как нормальный человек или зайди как админ,
                если ты тот самый счастливчик с доступом к кнопкам.
            </p>

            <div class="auth-toggle">
                <button class="auth-tab is-active" data-mode="register" type="button">
                    РЕГИСТРАЦИЯ
                </button>
                <button class="auth-tab" data-mode="login" type="button">
                    ВХОД ДЛЯ АДМИНА
                </button>
            </div>

            <div class="auth-forms">
                <!-- Регистрация -->
                <form id="registerForm" class="auth-form auth-form--active" novalidate>
                    <div class="form-grid">
                        <div class="form-row">
                            <div class="form-label">Имя</div>
                            <input type="text" class="form-input" id="regFirstName" placeholder="Например, Ромашка">
                        </div>
                        <div class="form-row">
                            <div class="form-label">Фамилия</div>
                            <input type="text" class="form-input" id="regLastName" placeholder="Твоя гордая фамилия">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-label">Почта</div>
                        <input type="email" class="form-input" id="regEmail" placeholder="you@example.com">
                        <div class="form-hint">Никакого спама. Мы слишком ленивые для рассылок.</div>
                    </div>

                    <div class="form-row">
                        <div class="form-label">Номер телефона</div>
                        <input type="tel" class="form-input" id="regPhone" placeholder="+380...">
                    </div>

                    <div class="form-row">
                        <div class="form-label">Дата рождения</div>
                        <input type="date" class="form-input" id="regBirthdate">
                        <div class="form-hint">Да, нам нужен возраст. Нет, паспорт сканом не шлёшь.</div>
                    </div>

                    <div class="form-submit">
                        <button type="submit" class="btn-primary">ЗАРЕГИСТРИРОВАТЬСЯ</button>
                    </div>
                </form>

                <!-- Логин админа -->
                <form id="loginForm" class="auth-form" novalidate>
                    <div class="form-row">
                        <div class="form-label">Почта</div>
                        <input type="email" class="form-input" id="loginEmail" placeholder="admin@test.com">
                    </div>

                    <div class="form-row">
                        <div class="form-label">Пароль</div>
                        <input type="password" class="form-input" id="loginPassword" placeholder="••••">
                        <div class="form-hint">Спойлер: пароль — четыре одинаковых цифры.</div>
                    </div>

                    <div class="form-submit">
                        <button type="submit" class="btn-primary">ВОЙТИ</button>
                    </div>
                </form>
            </div>

            <div class="auth-message" id="authMessage"></div>
        </div>
    </section>
</div>

<script>
    // ===== HERO-анимация: цифры <-> NAE*LOVO =====
    const centerWordEl = document.getElementById("centerWord");
    const centerLabelEl = document.getElementById("centerLabel");

    let idlePhase = "digits"; // digits | brand
    let idleInterval = null;
    let idleTimeout = null;

    function generateTimeLikeString() {
        function randDigit() {
            return Math.floor(Math.random() * 10);
        }
        const h1 = randDigit();
        const h2 = randDigit();
        const m1 = randDigit();
        const m2 = randDigit();
        const s1 = randDigit();
        const s2 = randDigit();
        return `${h1}${h2}:${m1}${m2}:${s1}${s2}`;
    }

    function setCenterWord(text) {
        centerWordEl.innerHTML = "";
        [...text].forEach((ch, index) => {
            const span = document.createElement("span");
            span.textContent = ch;
            span.dataset.index = index;
            centerWordEl.appendChild(span);
        });
        centerWordEl.classList.add("is-active");
    }

    function startDigitsPhase() {
        idlePhase = "digits";
        centerLabelEl.textContent = "NAE*LOVO / REGISTER";
        setCenterWord(generateTimeLikeString());

        if (idleInterval) clearInterval(idleInterval);
        idleInterval = setInterval(() => {
            if (idlePhase !== "digits") return;
            setCenterWord(generateTimeLikeString());
        }, 900);

        if (idleTimeout) clearTimeout(idleTimeout);
        idleTimeout = setTimeout(() => {
            startBrandPhase();
        }, 5000);
    }

    function startBrandPhase() {
        idlePhase = "brand";

        if (idleInterval) {
            clearInterval(idleInterval);
            idleInterval = null;
        }

        centerLabelEl.textContent = "NAE*LOVO";
        setCenterWord("NAE*LOVO");

        if (idleTimeout) clearTimeout(idleTimeout);
        idleTimeout = setTimeout(() => {
            startDigitsPhase();
        }, 3000);
    }

    function startIdleLoop() {
        startDigitsPhase();
    }

    startIdleLoop();

    // ===== Логика табов и форм =====
    const AUTH_ADMIN_EMAIL = "admin@test.com";
    const AUTH_ADMIN_PASSWORD = "1111";

    const tabs = document.querySelectorAll(".auth-tab");
    const registerForm = document.getElementById("registerForm");
    const loginForm = document.getElementById("loginForm");
    const authMessage = document.getElementById("authMessage");

    function showMessage(text, type) {
        authMessage.textContent = text;
        authMessage.className = "auth-message";
        if (type === "error") {
            authMessage.classList.add("auth-message--error");
        } else if (type === "success") {
            authMessage.classList.add("auth-message--success");
        }
    }

    tabs.forEach(tab => {
        tab.addEventListener("click", () => {
            const mode = tab.dataset.mode;

            tabs.forEach(t => t.classList.toggle("is-active", t === tab));

            if (mode === "register") {
                registerForm.classList.add("auth-form--active");
                loginForm.classList.remove("auth-form--active");
                showMessage("", null);
            } else {
                loginForm.classList.add("auth-form--active");
                registerForm.classList.remove("auth-form--active");
                showMessage("", null);
            }
        });
    });

    // Валидация регистрации (фронтовая, без сохранения)
    registerForm.addEventListener("submit", (e) => {
        e.preventDefault();

        const firstName = document.getElementById("regFirstName").value.trim();
        const lastName = document.getElementById("regLastName").value.trim();
        const email = document.getElementById("regEmail").value.trim();
        const phone = document.getElementById("regPhone").value.trim();
        const birthdate = document.getElementById("regBirthdate").value;

        if (!firstName || !lastName || !email || !phone || !birthdate) {
            showMessage("Заполни все поля, не будь тем самым человеком, который пропускает важное.", "error");
            return;
        }

        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailPattern.test(email)) {
            showMessage("Почта какая-то странная. Добавь нормальный формат с @ и точкой.", "error");
            return;
        }

        // Лёгкая проверка возраста
        const birth = new Date(birthdate);
        const now = new Date();
        let age = now.getFullYear() - birth.getFullYear();
        const m = now.getMonth() - birth.getMonth();
        if (m < 0 || (m === 0 && now.getDate() < birth.getDate())) {
            age--;
        }

        if (isNaN(age) || age < 14) {
            showMessage("Выглядит так, будто тебе меньше 14. NAE*LOVO всё-таки для тех, кто уже чуть-чуть повидал жизнь.", "error");
            return;
        }

        showMessage("Регистрация прошла. Перенаправляем в профиль...", "success");
        
        // Redirect to profile.html after a short delay
        setTimeout(() => {
            window.location.href = "profile.html";
        }, 1500);
    });

    // Логин админа
    loginForm.addEventListener("submit", (e) => {
        e.preventDefault();

        const email = document.getElementById("loginEmail").value.trim();
        const password = document.getElementById("loginPassword").value.trim();

        if (!email || !password) {
            showMessage("Заполни почту и пароль. Чтение мыслей пока не завезли.", "error");
            return;
        }

        if (email === AUTH_ADMIN_EMAIL && password === AUTH_ADMIN_PASSWORD) {
            showMessage("Админ авторизован. Перенаправляем...", "success");
            setTimeout(() => {
                window.location.href = "profile.html";
            }, 1500);
        } else {
            showMessage("Нет, это не те данные. Этот вход не для фантазёров.", "error");
        }
    });
</script>
</body>
</html>
